function generateGrid(){const e=document.getElementById("userInput").value,t=document.getElementById("timeRange").value,o=document.getElementById("gridSize").value,a=document.getElementById("gridType").value,n=document.getElementById("albumGrid");let m="";"albums"===a?m="user.getTopAlbums":"artists"===a&&(m="user.getTopArtists"),fetch(`https://ws.audioscrobbler.com/2.0/?method=${m}&user=${e}&period=${t}&api_key=e713e4ee81e3cfee0417956233a9faa1&format=json`).then((e=>e.json())).then((e=>{n.innerHTML="";const t=o*o;"albums"===a?e.topalbums.album.slice(0,t).forEach((t=>{const o=document.createElement("img");o.src=t.image[3]["#text"],o.alt=t.name,o.className="album-image",n.appendChild(o),console.log(e)})):"artists"===a&&e.topartists.artist.slice(0,t).forEach((e=>{const t=document.createElement("img");t.src=e.image[3]["#text"],t.alt=e.name,t.className="album-image",n.appendChild(t)})),n.style.gridTemplateColumns=`repeat(${o}, 1fr)`,n.style.gridTemplateRows=`repeat(${o}, 1fr)`;document.getElementById("downloadButton").style.display="block"})).catch((e=>{alert("Usuário não encontrado!"),console.error("Erro na requisição à API do Last.fm:",e)}))}function downloadGrid(){const e=document.getElementById("albumGrid");domtoimage.toPng(e).then((function(e){const t=document.createElement("a");t.href=e,t.download="albumGrid.png",document.body.appendChild(t),t.click(),document.body.removeChild(t)})).catch((function(e){console.error("Erro ao gerar a imagem do grid:",e)}))}
